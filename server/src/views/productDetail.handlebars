<div class="flex max-w-md overflow-hidden bg-white rounded-lg shadow-lg">
    <div class="w-1/3 bg-cover bg-landscape">
        <img src="../../statics/products/{{product.thumbnails.[0].originalName}}" alt={{product.title}}
            class="product-img">
    </div>
    <div class="w-2/3 p-4">
        <h1 class="text-2xl font-bold text-gray-900">
            {{product.title}}
        </h1>
        <p class="mt-2 text-sm text-gray-600">
            {{product.description}}
        </p>
        <p>
            Stock: {{product.stock}}
        </p>
        <div class="flex justify-between mt-3 item-center">
            <h1 class="text-xl font-bold text-gray-700">
                ${{product.price}}
            </h1>
            {{#if product.status}}
            <button id="add-to-cart-btn" class="px-3 py-2 text-xs font-bold text-white uppercase bg-gray-800 rounded"
                onclick="addToCart(event, `{{product.id}}`, `{{user.cart}}`)">Add to Card</button>
            {{/if}}
        </div>
    </div>
</div>


<div class="detail-container">
    <div class="detail-box">
        <div class="img-section">
            <div class="img-container">
                <img src="../../statics/products/{{product.thumbnails.[0].originalName}}" alt={{product.title}}
                    class="product-img">
            </div>
            {{#if product.thumbnails.[1]}}
            <div class="thumbnails-section">
                {{#each product.thumbnails}}
                <button class="thumbnail-btn" onclick="selectImg(`{{originalName}}`)">
                    <img src="../../statics/products/{{originalName}}" alt={{originalName}} class="thumbnail">
                </button>
                {{/each}}
            </div>
            {{/if}}
        </div>
        <div class="info-section">
            <h3 class="product-title">{{product.title}}</h3>
            <p>{{product.description}}</p>
            <p class="price-tag">${{product.price}}</p>
            {{#if product.stock}}
            <p class="stock-tag">{{product.stock}} unidades disponibles</p>
            {{#if admin}}
            <p class="product-owner">propietario: {{product.owner}}</p>
            <button id="delete-btn" class="delete-btn" onclick="deleteItem(`{{product.id}}`)">Eliminar producto</button>
            {{else}}
            <div class="button-section-container">
                <div class="item-counter-container">
                    <button class="less-button-counter" onclick="decreaseAmount(event, {{product.stock}})">-</button>
                    <p class="counter">1</p>
                    <button class="more-button-counter" onclick="increaseAmount(event, {{product.stock}})">+</button>
                </div>
                {{#if product.status}}
                <button id="add-to-cart-btn" class="add-to-cart-btn"
                    onclick="addToCart(event, `{{product.id}}`, `{{user.cart}}`)">AÃ±adir al carrito</button>
                {{/if}}
            </div>
            {{/if}}
            {{else}}
            <p class="sold-out">Producto agotado</p>
            {{/if}}
        </div>
    </div>
</div>


<script src="/statics/js/detail.js"></script>